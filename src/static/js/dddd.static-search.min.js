"use strict";window.dddd||(window.dddd={}),window.dddd.static||(window.dddd.static={}),function(e){function t(e){console.log(`%c${e}`,"color: #e91e63")}function r(e,t=2,r="0"){let n="";for(let o=0;o<t-e.toString().length;o++)n+=r;return`${n}${e}`}e.dddd.Utils={...e.dddd.Utils,deserializeQueryString:function(){return decodeURIComponent(location.href.substring(location.href.indexOf("?")+1,location.href.length)).split("&").reduce((e,t)=>{const r=t.split("=");return{[r[0]]:r[1],...e}},{})},writeLog:t,getQueryVariableValue:function(e,r=""){try{const n=this.deserializeQueryString()[e];if(void 0===n)throw"Not found query variable";return n}catch(e){return t(e),r}},getElementBySelector:function(e){try{return document.querySelector(e)}catch(t){return this.writeLog(`Not found element: ${e}`),{}}},formatDate:function(e,t){const n=new Date(e);if(!n)return"";const o=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],i=n.getHours();return t.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,function(e){switch(e){case"yyyy":return n.getFullYear();case"yy":return r(n.getFullYear()%1e3);case"MM":return r(n.getMonth()+1);case"dd":return r(n.getDate());case"E":return o[n.getDay()];case"HH":return r(n.getHours());case"hh":return r(i%12?i:12);case"mm":return r(n.getMinutes());case"ss":return r(n.getSeconds());case"a/p":return n.getHours()<12?"오전":"오후";default:return e}})}}}(window),function(e,t,r,n){const o={data:[],element:{input:"#searchInput",resultTemplate:"#template-post-list",resultContainer:"#postSection"},keyword:{types:["title","content","categories","tags"],queryVariableName:"q"},renderOptions:{dateFormat:"yyyy.MM.dd"},renderResult:function(e,t,{element:r,renderOptions:o}){try{const i=n.getElementBySelector(r.resultTemplate).innerText;n.getElementBySelector(r.resultContainer).innerHTML=_.template(i)({data:e,keyword:t,formatDate:e=>n.formatDate(e,o.dateFormat)})}catch(e){n.writeLog("Please check resultTemplate or resultContainer"),n.writeLog(e)}}};function i(e){try{if(!e.data||!e.renderResult&&!_)throw"Undefined required option";return function(e){const{element:t,keyword:r,renderOptions:n}=o;return{...o,...e,element:{...t,...e.element},keyword:{...r,...e.keyword},renderOptions:{...n,...e.renderOptions}}}(e)}catch(e){throw n.writeLog(e),e}}e.dddd.static.Search={renderResult:function(e){const t=i(e),r=n.getQueryVariableValue(t.keyword.queryVariableName);n.getElementBySelector(t.element.input).value=r,t.renderResult(function(e,t){try{if(!(t.data instanceof Array))throw"Mismatch data type";return e?t.data.filter(r=>t.keyword.types.some(t=>r[t].indexOf(e)>-1)):[]}catch(e){return n.writeLog(e),[]}}(r,t),r,t)}}}(window,document,location,window.dddd.Utils);
